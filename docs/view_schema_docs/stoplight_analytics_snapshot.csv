Schema Name,Table Name,Field Name,Data Type,Description,Sample Values,Required?,Notes,Data Quality Checks,PII
stoplight_analytics,snapshot,id,bigint,Primary key identifier for the snapshot,1,No,Source: data_collect.snapshot.id,"NOT NULL, Positive integer, Unique",No
stoplight_analytics,snapshot,family_identifier,character varying,Identifier for the family (may be name or code),FP12345,No,"Source: Added in view, not in source table","Length check (max 300), No special characters",Yes
stoplight_analytics,snapshot,organization_id,bigint,Reference to the organization,1,No,Source: data_collect.snapshot.organization_id,"NOT NULL, Positive integer, FK validation",No
stoplight_analytics,snapshot,application_id,bigint,Reference to the hub that is implementing the Stoplight project,1,No,Source: data_collect.snapshot.application_id,"NOT NULL, Positive integer, FK validation",No
stoplight_analytics,snapshot,created_at,bigint,Timestamp of when snapshot record was created,1739290218,No,Source: data_collect.snapshot.created_at,"NOT NULL, Valid Unix timestamp, Less than or equal to current time",No
stoplight_analytics,snapshot,created_by,character varying,User who created the snapshot record,surveyuser,No,Source: data_collect.snapshot.created_by,"NOT NULL, Length check (max 100)",Yes
stoplight_analytics,snapshot,survey_definition_id,bigint,Reference to the survey definition,1,No,Source: data_collect.snapshot.survey_definition_id,"NOT NULL, Positive integer, FK validation",No
stoplight_analytics,snapshot,snapshot_date,bigint,Date when the survey was taken,1739288403,No,Source: data_collect.snapshot.snapshot_date,"Valid Unix timestamp, Less than or equal to current time",No
stoplight_analytics,snapshot,family_id,bigint,Reference to the family table,1,No,Source: data_collect.snapshot.family_id,"Positive integer, FK validation to ps_families.family",No
stoplight_analytics,snapshot,snapshot_indicator_id,bigint,Reference to the Indicator associated with the snapshot,null,No,"Source: data_collect.snapshot.snapshot_indicator_id, DEPRECATED",Null check if not used,No
stoplight_analytics,snapshot,terms_conditions_id,bigint,Reference to the terms and conditions,1,No,Source: data_collect.snapshot.terms_conditions_id,"Positive integer, FK validation to security.termcondpol",No
stoplight_analytics,snapshot,privacy_policy_id,bigint,Reference to the privacy policy,1,No,Source: data_collect.snapshot.privacy_policy_id,"Positive integer, FK validation to security.termcondpol",No
stoplight_analytics,snapshot,survey_user_id,bigint,Reference to the user who took the survey,1,No,Source: data_collect.snapshot.survey_user_id,"Positive integer, FK validation to security.users",No
stoplight_analytics,snapshot,draft_id,character varying,Unique identifier for the draft created in the frontend,760e3f60-e88e-11ef-81da-552e947d1357,No,Source: data_collect.snapshot.draft_id,"UUID format check, Length check (max 200), Unique constraint",No
stoplight_analytics,snapshot,stoplight_skipped,boolean,Indicates if the survey was taken without a stoplight section,False,No,Source: data_collect.snapshot.stoplight_skipped,Boolean value check,No
stoplight_analytics,snapshot,sign,character varying,Signature data stored as Base64 string,null,No,Source: data_collect.snapshot.sign,"Base64 format check, Length check (max 200)",Yes
stoplight_analytics,snapshot,is_last,boolean,Indicates if this is the last snapshot or survey taken by the family,True,No,Source: data_collect.snapshot.is_last,Boolean value check,No
stoplight_analytics,snapshot,economic,jsonb,Stores the JSON representation of the demographic section of the survey,"{""chid16"": ""1039942"", ""monto18"": ""3000""}",No,Source: data_collect.snapshot.economic,"Valid JSON structure, Required keys check",Yes
stoplight_analytics,snapshot,stoplight,jsonb,Stores the JSON representation of the stoplight section of the survey,"{""phone"": ""2"", ""assets"": ""1""}",No,Source: data_collect.snapshot.stoplight,"Valid JSON structure, Values in range 1-3",No
stoplight_analytics,snapshot,snapshot_number,smallint,"Indicates the subsequential round of the survey. A value of 1 represents the baseline, while values greater than 1 indicate a follow-up survey.",1,No,Source: data_collect.snapshot.snapshot_number,"Positive integer, Range check (1-10)",No
stoplight_analytics,snapshot,stoplight_client,character varying,Frontend Client associated where the survey was taken from,"WEB, MOBILE_ANDROID",No,Source: data_collect.snapshot.stoplight_client,"Enumeration check (WEB, MOBILE_ANDROID, WEB_DYNAMIC_LINK), Length check (max 20)",No
stoplight_analytics,snapshot,project_id,bigint,Reference to the project within an organization,1,No,Source: data_collect.snapshot.project_id,"Positive integer, FK validation to ps_network.projects",No
stoplight_analytics,snapshot,family_user_id,bigint,Reference to the family record if the survey was taken using the Family User feature,1,No,Source: data_collect.snapshot.family_user_id,"Positive integer, FK validation to security.users",No
stoplight_analytics,snapshot,last_taken_family,boolean,Indicates if this is the last taken snapshot for the family,True,No,Source: data_collect.snapshot.last_taken_family,Boolean value check,No
stoplight_analytics,snapshot,last_modified_by,character varying,User who last modified the snapshot,admin,No,Source: data_collect.snapshot.last_modified_by,"Length check (max 255)",Yes
stoplight_analytics,snapshot,created_date,timestamp without time zone,Timestamp when the snapshot was created,2023-03-15 12:30:00,No,Source: data_collect.snapshot.created_date,"Valid timestamp, Not in future",No
stoplight_analytics,snapshot,last_modified_date,timestamp without time zone,Timestamp when the snapshot was last modified,2023-03-15 12:30:00,No,Source: data_collect.snapshot.last_modified_date,"Valid timestamp, Not in future, >= created_date",No
stoplight_analytics,snapshot,session_token,character varying,"Session token associated with the snapshot, used to check session details",438688d8-29f7-4293-a05f-636b98006f45,No,Source: data_collect.snapshot.session_token,"UUID format check, Length check (max 100)",No
stoplight_analytics,snapshot,economic_time,bigint,Time taken for economic section in milliseconds,504654,No,Source: data_collect.snapshot.economic_time,"Positive integer, Range check (1-3600000)",No
stoplight_analytics,snapshot,stoplight_time,bigint,Time taken for stoplight section in milliseconds,504654,No,Source: data_collect.snapshot.stoplight_time,"Positive integer, Range check (1-3600000)",No
stoplight_analytics,snapshot,lifemap_time,bigint,Time taken for lifemap section in milliseconds,12198,No,Source: data_collect.snapshot.lifemap_time,"Positive integer, Range check (1-3600000)",No
stoplight_analytics,snapshot,stoplight_date,bigint,Date when stoplight section was completed,1739288403,No,Source: data_collect.snapshot.stoplight_date,"Valid Unix timestamp, <= created_at",No
stoplight_analytics,snapshot,migrated_to_central,boolean,Indicates if data was migrated to central,null,No,"Source: data_collect.snapshot.migrated_to_central, DEPRECATED",Null check if not used,No
stoplight_analytics,snapshot,lifemap_url,text,URL to the pdf lifemap stored in s3,https://s3.us-east-2.amazonaws.com/fp-psp-lifemaps/GT.C81E98.19900101.1410-1741284283272-lifemap.pdf,No,Source: data_collect.snapshot.lifemap_url,"URL format check, S3 domain validation",No
stoplight_analytics,snapshot,anonymous,boolean,Indicates if the survey was taken using the anonymous flow,False,No,Source: data_collect.snapshot.anonymous,"Boolean value check, Default: false",No 